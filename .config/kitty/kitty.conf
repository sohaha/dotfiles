# vim:fileencoding=utf-8:foldmethod=marker

# https://sw.kovidgoyal.net/kitty/conf/

# ä½¿ç”¨ `kitty +list-fonts` å‘½ä»¤èŽ·å–æ”¯æŒçš„å­—ä½“å®Œæ•´åˆ—è¡¨ã€‚
# font_family     IosevkaTerm Nerd Font
font_family      JetBrainsMono Nerd Font
font_size 14.0

tab_bar_edge top
tab_bar_style slant

macos_titlebar_color system
macos_show_window_title_in menubar

scrollback_lines 8000

paste_actions quote-urls-at-prompt

strip_trailing_spaces never

select_by_word_characters @-./_~?&=%+#

show_hyperlink_targets yes

remote_kitty if-needed

# https://sw.kovidgoyal.net/kitty/kittens/ssh/#opt-kitten-ssh.share_connections
share_connections yes

# å–æ¶ˆæ˜ å°„å·¦é”®ç‚¹å‡»ä»¥æ‰“å¼€é“¾æŽ¥ï¼ˆå®¹æ˜“è¯¯ç‚¹ï¼‰
mouse_map left click ungrabbed no-op

#: ç‚¹å‡»é¼ æ ‡ä¸‹çš„é“¾æŽ¥æˆ–ç§»åŠ¨å…‰æ ‡
mouse_map ctrl+left click ungrabbed mouse_handle_click selection link prompt

mouse_map ctrl+left press ungrabbed mouse_selection normal

mouse_map right press ungrabbed copy_to_clipboard

remember_window_size  yes
initial_window_width  640
initial_window_height 400

#: å¦‚æžœå¯ç”¨ï¼Œçª—å£å¤§å°å°†è¢«è®°ä½ï¼Œä»¥ä¾¿æ–°çš„kittyå®žä¾‹ä¸Žå‰ä¸€ä¸ªå®žä¾‹å…·æœ‰ç›¸åŒçš„å¤§å°ã€‚
#: å¦‚æžœç¦ç”¨ï¼Œçª—å£æœ€åˆå°†å…·æœ‰ç”±initial_window_width/heighté…ç½®çš„å¤§å°ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ã€‚
#: ä½ å¯ä»¥åœ¨å®½åº¦/é«˜åº¦å€¼åŽä½¿ç”¨"c"åŽç¼€ï¼Œä½¿å…¶è¢«è§£é‡Šä¸ºå•å…ƒæ ¼æ•°è€Œä¸æ˜¯åƒç´ æ•°ã€‚

# fat -- ä¸€ä¸ªï¼ˆæˆ–å¯é€‰æ›´å¤šï¼‰çª—å£åœ¨é¡¶éƒ¨å…¨å®½æ˜¾ç¤ºï¼Œå…¶ä½™çª—å£åœ¨åº•éƒ¨å¹¶æŽ’æ˜¾ç¤º
# grid -- æ‰€æœ‰çª—å£ä»¥ç½‘æ ¼å½¢å¼æ˜¾ç¤º
# horizontal -- æ‰€æœ‰çª—å£å¹¶æŽ’æ˜¾ç¤º
# splits -- çª—å£æŒ‰ä»»æ„æ¨¡å¼æŽ’åˆ—ï¼Œä½¿ç”¨æ°´å¹³å’Œåž‚ç›´åˆ†å‰²åˆ›å»º
# stack -- ä¸€æ¬¡åªæ˜¾ç¤ºä¸€ä¸ªæœ€å¤§åŒ–çš„çª—å£
# tall -- ä¸€ä¸ªï¼ˆæˆ–å¯é€‰æ›´å¤šï¼‰çª—å£åœ¨å·¦ä¾§å…¨é«˜æ˜¾ç¤ºï¼Œå…¶ä½™çª—å£åœ¨å³ä¾§ä¸€ä¸ªæŽ¥ä¸€ä¸ªæ˜¾ç¤º
# vertical -- æ‰€æœ‰çª—å£ä¸€ä¸ªæŽ¥ä¸€ä¸ªæ˜¾ç¤º

enabled_layouts splits,stack
#enabled_layouts all

# å½“ä¸å¯è§çª—å£ä¸­çš„å‘½ä»¤æ‰§è¡Œæ—¶é—´è¶…è¿‡30ç§’æ—¶å‘é€é€šçŸ¥
#notify_on_cmd_finish invisible 30.0

# https://sw.kovidgoyal.net/kitty/layouts/#the-splits-layout
include splits.conf

#: å¯ç”¨çš„çª—å£å¸ƒå±€ã€‚ä»¥é€—å·åˆ†éš”çš„å¸ƒå±€åç§°åˆ—è¡¨ã€‚
#: ç‰¹æ®Šå€¼ all è¡¨ç¤ºæ‰€æœ‰å¸ƒå±€ã€‚åˆ—å‡ºçš„ç¬¬ä¸€ä¸ªå¸ƒå±€å°†ä½œä¸ºå¯åŠ¨å¸ƒå±€ä½¿ç”¨ã€‚
#: é»˜è®¤é…ç½®æ˜¯æŒ‰å­—æ¯é¡ºåºæŽ’åˆ—çš„æ‰€æœ‰å¸ƒå±€ã€‚æœ‰å…³å¯ç”¨å¸ƒå±€çš„åˆ—è¡¨ï¼Œè¯·å‚è§
#: https://sw.kovidgoyal.net/kitty/overview/#layoutsã€‚

window_resize_step_cells 2
window_resize_step_lines 2

#: ä½¿ç”¨é”®ç›˜è°ƒæ•´kittyçª—å£å¤§å°æ—¶ä½¿ç”¨çš„æ­¥é•¿ï¼ˆä»¥å•å…ƒæ ¼å®½åº¦/é«˜åº¦ä¸ºå•ä½ï¼‰
#: ï¼ˆstart_resizing_windowï¼‰ã€‚cellså€¼ç”¨äºŽæ°´å¹³è°ƒæ•´ï¼Œlineså€¼ç”¨äºŽåž‚ç›´è°ƒæ•´ã€‚

window_border_width 0.5pt



visual_window_select_characters 1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ

#: ç”¨äºŽå¯è§†çª—å£é€‰æ‹©çš„å­—ç¬¦åˆ—è¡¨ï¼ˆä¾‹å¦‚ï¼Œç”¨äºŽé€‰æ‹©è¦èšç„¦çš„çª—å£ï¼Œä½¿ç”¨focus_visible_windowï¼‰ã€‚
#: è¯¥å€¼åº”è¯¥æ˜¯ä¸€ç³»åˆ—å”¯ä¸€çš„æ•°å­—æˆ–å­—æ¯ï¼Œä¸åŒºåˆ†å¤§å°å†™ï¼Œæ¥è‡ªé›†åˆ[0-9A-Z]ã€‚
#: å°†ä½ çš„åå¥½æŒ‡å®šä¸ºä¸€ä¸²å­—ç¬¦ã€‚

# å¯ç”¨Shellé›†æˆåŽï¼Œä½¿ç”¨è´Ÿå€¼æ„å‘³ç€å¤„äºŽshellæç¤ºç¬¦çš„çª—å£ä¸è¢«è®¡æ•°ï¼Œ
# åªæœ‰å½“å‰æ­£åœ¨è¿è¡ŒæŸäº›å‘½ä»¤çš„çª—å£æ‰è¢«è®¡æ•°ã€‚
# å‚è§ https://sw.kovidgoyal.net/kitty/conf/#opt-kitty.confirm_os_window_close
confirm_os_window_close -1



# è¡¨æƒ…ç¬¦å·æ¥è‡ª https://emojipedia.org/regional-indicator-symbol-letter-z/
# æ ‡é¢˜è§£æžè§ https://github.com/kovidgoyal/kitty/blob/587f44ad4eb7fe545b0e580168cf0c32117b87c7/kitty/tab_bar.py#L175
tab_title_template "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}:{'ðŸ‡¿' if layout_name == 'stack' and num_windows > 1 else ''}{title}"



#: å‰æ™¯å’ŒèƒŒæ™¯é¢œè‰²

background_opacity 0.95


background_image none

#: èƒŒæ™¯å›¾ç‰‡çš„è·¯å¾„ã€‚å¿…é¡»æ˜¯PNGæ ¼å¼ã€‚

background_image_layout tiled

#: æ˜¯å¦å¹³é“ºã€ç¼©æ”¾æˆ–å›ºå®šèƒŒæ™¯å›¾ç‰‡ã€‚å€¼å¯ä»¥æ˜¯tiledã€mirror-tiledã€scaledã€clampedä¹‹ä¸€ã€‚

background_image_linear no

#: å½“èƒŒæ™¯å›¾ç‰‡è¢«ç¼©æ”¾æ—¶ï¼Œæ˜¯å¦åº”ä½¿ç”¨çº¿æ€§æ’å€¼ã€‚

dynamic_background_opacity yes

#: å…è®¸åŠ¨æ€æ›´æ”¹background_opacityï¼Œå¯ä»¥ä½¿ç”¨é”®ç›˜å¿«æ·é”®ï¼ˆincrease_background_opacityå’Œ
#: decrease_background_opacityï¼‰æˆ–è¿œç¨‹æŽ§åˆ¶åŠŸèƒ½ã€‚
#: é€šè¿‡é‡æ–°åŠ è½½é…ç½®æ¥æ›´æ”¹æ­¤è®¾ç½®æ˜¯ä¸æ”¯æŒçš„ã€‚



allow_remote_control yes

#: å…è®¸å…¶ä»–ç¨‹åºæŽ§åˆ¶kittyã€‚å¦‚æžœä½ æ‰“å¼€æ­¤é€‰é¡¹ï¼Œå…¶ä»–ç¨‹åºå¯ä»¥æŽ§åˆ¶kittyçš„æ‰€æœ‰æ–¹é¢ï¼Œ
#: åŒ…æ‹¬å‘kittyçª—å£å‘é€æ–‡æœ¬ã€æ‰“å¼€æ–°çª—å£ã€å…³é—­çª—å£ã€è¯»å–çª—å£å†…å®¹ç­‰ã€‚
#: è¯·æ³¨æ„ï¼Œè¿™ç”šè‡³å¯ä»¥é€šè¿‡sshè¿žæŽ¥å·¥ä½œã€‚ä½ å¯ä»¥é€‰æ‹©å…è®¸åœ¨kittyå†…è¿è¡Œçš„ä»»ä½•ç¨‹åºæŽ§åˆ¶å®ƒï¼Œ
#: ä½¿ç”¨yesï¼Œæˆ–è€…åªå…è®¸è¿žæŽ¥åˆ°ä½¿ç”¨kitty --listen-onå‘½ä»¤è¡Œé€‰é¡¹æŒ‡å®šçš„å¥—æŽ¥å­—çš„ç¨‹åºï¼Œ
#: å¦‚æžœä½ ä½¿ç”¨socket-onlyå€¼ã€‚åŽè€…åœ¨ä½ æƒ³é˜²æ­¢é€šè¿‡sshä»Žè¿œç¨‹è®¡ç®—æœºè¿è¡Œçš„ç¨‹åºæŽ§åˆ¶kittyæ—¶å¾ˆæœ‰ç”¨ã€‚
#: é‡æ–°åŠ è½½é…ç½®ä¸ä¼šå½±å“æ­¤è®¾ç½®ã€‚

#listen_on unix:$XDG_RUNTIME_DIR/kitty.sock
#listen_on tcp:localhost:12488


#: å‘Šè¯‰kittyç›‘å¬æŒ‡å®šçš„unix/tcpå¥—æŽ¥å­—ä»¥è¿›è¡Œè¿œç¨‹æŽ§åˆ¶è¿žæŽ¥ã€‚
#: è¯·æ³¨æ„ï¼Œè¿™å°†åº”ç”¨äºŽæ‰€æœ‰kittyå®žä¾‹ã€‚å®ƒå¯ä»¥è¢«kitty --listen-onå‘½ä»¤è¡Œæ ‡å¿—è¦†ç›–ã€‚
#: æ­¤é€‰é¡¹ä»…æŽ¥å—UNIXå¥—æŽ¥å­—ï¼Œä¾‹å¦‚unix:${TEMP}/mykittyæˆ–ï¼ˆåœ¨Linuxä¸Šï¼‰unix:@mykittyã€‚
#: çŽ¯å¢ƒå˜é‡ä¼šè¢«å±•å¼€ã€‚å¦‚æžœå­˜åœ¨{kitty_pid}ï¼Œåˆ™å®ƒä¼šè¢«æ›¿æ¢ä¸ºkittyè¿›ç¨‹çš„PIDï¼Œ
#: å¦åˆ™kittyè¿›ç¨‹çš„PIDä¼šé™„åŠ åˆ°å€¼åŽé¢ï¼Œç”¨è¿žå­—ç¬¦åˆ†éš”ã€‚
#: é™¤éžä½ è¿˜è®¾ç½®allow_remote_controlä»¥å¯ç”¨è¿œç¨‹æŽ§åˆ¶ï¼Œå¦åˆ™æ­¤é€‰é¡¹å°†è¢«å¿½ç•¥ã€‚
#: æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…kitty --listen-onçš„å¸®åŠ©ã€‚
#: é€šè¿‡é‡æ–°åŠ è½½é…ç½®æ¥æ›´æ”¹æ­¤é€‰é¡¹æ˜¯ä¸æ”¯æŒçš„ã€‚


#startup_session none
startup_session session.conf



allow_hyperlinks yes

#: å¤„ç†è¶…é“¾æŽ¥ï¼ˆOSC 8ï¼‰è½¬ä¹‰åºåˆ—ã€‚å¦‚æžœç¦ç”¨ï¼ŒOSC 8è½¬ä¹‰åºåˆ—å°†è¢«å¿½ç•¥ã€‚
#: å¦åˆ™ï¼Œå®ƒä»¬å°†æˆä¸ºå¯ç‚¹å‡»çš„é“¾æŽ¥ï¼Œä½ å¯ä»¥ç”¨é¼ æ ‡æˆ–hints kittenç‚¹å‡»ã€‚
#: ç‰¹æ®Šå€¼"ask"æ„å‘³ç€kittyä¼šåœ¨ç‚¹å‡»æ—¶è¯¢é—®æ˜¯å¦æ‰“å¼€é“¾æŽ¥ã€‚

shell_integration enabled

#: åœ¨æ”¯æŒçš„shellä¸Šå¯ç”¨shellé›†æˆã€‚è¿™å¯ç”¨äº†è¯¸å¦‚è·³è½¬åˆ°å‰ä¸€ä¸ªæç¤ºç¬¦ã€
#: åœ¨åˆ†é¡µå™¨ä¸­æµè§ˆå‰ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºç­‰åŠŸèƒ½ã€‚è®¾ç½®ä¸º"disabled"å¯å®Œå…¨å…³é—­shellé›†æˆã€‚
#: è¯¦æƒ…è¯·å‚è§ https://sw.kovidgoyal.net/kitty/shell-integration/ã€‚

#term xterm-kitty
term xterm-256color



kitty_mod ctrl+shift

# kitty_modå¿…é¡»æ˜¯ä¿®é¥°é”®è€Œä¸æ˜¯é”®ï¼Œå‚è§
# https://github.com/kovidgoyal/kitty/discussions/3457#discussioncomment-587511
# æ‰€ä»¥ä½ ä¸èƒ½è¿™æ ·åšï¼š
#kitty_mod ctrl+a



#map kitty_mod+enter new_window
# ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œå› ä¸ºå¯èƒ½ä¼šé€šè¿‡æŒ‰ctrl+shift+vç²˜è´´å‘½ä»¤ç„¶åŽæŒ‰enteræ„å¤–åˆ›å»ºçª—å£
map kitty_mod+enter no-op
map cmd+enter       no-op



map ctrl+a>x close_window


map ctrl+a>] next_window



map ctrl+a>[ previous_window


map ctrl+a>period move_window_forward


map ctrl+a>comma move_window_backward



#map kitty_mod+t new_tab_with_cwd
# map kitty_mod+t new_tab
map kitty_mod+t launch --location=hsplit
# new_tabä¸ä¼šä¿æŒcwdï¼Œè¯·ä½¿ç”¨`new_tab_with_cwd`æˆ–`launch --cwd=current --type=tab`
# å‚è§ https://sw.kovidgoyal.net/kitty/faq/#how-do-i-open-a-new-window-or-tab-with-the-same-working-directory-as-the-current-window
# ç±»ä¼¼tmuxçš„æ ‡ç­¾åˆ›å»ºæ–¹å¼ï¼Œä½¿ç”¨`--cwd=last_reported`ï¼Œè­¦å‘Šï¼šè¿™éœ€è¦kittyçš„`shell_integration enabled`
map ctrl+a>c launch --cwd=last_reported --type=tab

map ctrl+a>, set_tab_title


#: å¢žåŠ å­—ä½“å¤§å°

map ctrl+equal  change_font_size all +2.0
map ctrl+plus   change_font_size all +2.0
map ctrl+kp_add change_font_size all +2.0


#: å‡å°å­—ä½“å¤§å°

map ctrl+minus       change_font_size all -2.0
map ctrl+kp_subtract change_font_size all -2.0


#: é‡ç½®å­—ä½“å¤§å°

map ctrl+0 change_font_size all 0




map f11 toggle_fullscreen


# map ctrl+a>e edit_config_file
map ctrl+a>e no-op
map ctrl+a>shift+e launch --type=tab nvim ~/.config/kitty/kitty.conf


#: é‡æ–°åŠ è½½kitty.conf

map ctrl+a>shift+r combine : load_config_file : launch --type=overlay sh -c 'echo "kittyé…ç½®å·²é‡æ–°åŠ è½½ã€‚"; echo; read -r -p "æŒ‰Enteré”®é€€å‡º"; echo ""'

#: è°ƒè¯•kittyé…ç½®

map ctrl+a>shift+d     debug_config



# BEGIN_KITTY_THEME
# Solarized Light
include current-theme.conf
# END_KITTY_THEME

# é»˜è®¤å­—æ¯è¡¨è§ https://github.com/kovidgoyal/kitty/blob/0c4b20aa4e6b29ccf7c389e15d7ff5189f8e98f5/kittens/hints/main.py#L125
# qwertyå­—æ¯è¡¨å€Ÿé‰´è‡ª https://github.com/fcsonline/tmux-thumbs#Alphabets
map ctrl+a>space kitten hints --alphabet asdfqwerzxcvjklmiuopghtybn1234567890 --customize-processing custom-hints.py

map f3 kitten hints --program '*'

# https://github.com/console-rs/console/pull/85/files
# https://github.com/console-rs/console/pull/84
# å°†åŒå‡»ctrl+aæ˜ å°„ä¸ºctrl+aï¼ˆhomeé”®ï¼‰
map ctrl+a>ctrl+a send_text all \x01

